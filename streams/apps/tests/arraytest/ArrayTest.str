/**
 * this should println 1.0, 2.0, 3.0 ...
 */
void->void pipeline ArrayTest {
    add void->float[1][1] stateful filter {
	float val;
	init {
	    val = 1.0;
	}
	work push 1 {
	    float[1][1] myArray;
	    myArray[0][0] = val;
	    val = val + 1;
	    push(myArray);
	}
    }
    add float[1][1]->void filter {
	work pop 1 {
            float[1][1] myArray = pop();
	    println(myArray[0][0]);
	}
    }
}

	
